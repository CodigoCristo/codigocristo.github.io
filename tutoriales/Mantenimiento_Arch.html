<!doctype html>
<html class="no-js" lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Código Cristo - ArchLinux</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon
    ============================================ -->
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <!-- all css here -->
    <!-- bootstrap v3.3.6 css -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="../css/animate.css">
    <!-- jquery-ui.min css -->
    <link rel="stylesheet" href="../css/jquery-ui.min.css">
    <!-- nivo slider CSS
    ============================================ -->
    <link rel="stylesheet" href="../lib/custom-slider/css/nivo-slider.css" type="text/css" />
    <link rel="stylesheet" href="../lib/custom-slider/css/preview.css" type="text/css" media="screen" />
    <!-- meanmenu css -->
    <link rel="stylesheet" href="../css/meanmenu.min.css">
    <!-- Owl Caousel CSS -->
    <link rel="stylesheet" href="../vendor/OwlCarousel/owl.carousel.min.css">
    <link rel="stylesheet" href="../vendor/OwlCarousel/owl.theme.default.min.css">
    <!-- font-awesome css -->
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <!-- flaticon css -->
    <link rel="stylesheet" href="../css/flaticon.css">
    <!-- style css -->
    <link rel="stylesheet" href="../style.css">
    <!-- responsive css -->
    <link rel="stylesheet" href="../css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- modernizr css -->
    <script src="../js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body class="home-2 home-4">
    <!--[if lt IE 8]>
          <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
    <!-- Add your site or application content here -->
    <!--  Header Area Start Here -->
    <header>
        <div class="header-top">
          <div class="container">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="header-top-left">
                  <p><i class="fa fa-location-arrow " aria-hidden="true"></i>ArchLinux</p>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="header-top-right">
                  <ul>
                    <li><i class="fa fa-paper-plane" aria-hidden="true"></i><a href="https://t.me/ArchLinuxCristo" target="_blank">Telegram Arch Linux en Español</li>
                    <li><span class="fa fa-envelope-o"></span><a href="https://www.facebook.com/groups/451150032156062/" target="_blank">Escríbenos</a></li>
                  </ul>
                </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-area" id="sticker">
            <div class="container">
                <div class="row">
                    <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                        <div class="logo-area">
                            <a href="../index.html"><img src="../img/logo.png" alt="image" width="50" height="50" style="padding-bottom: 5px;"></a>
                        </div>
                    </div>
                    <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12">
                        <div class="main-menu-area">
                            <nav>
                                <ul id="nav">
                                    <li class="active has-submenu"><a href="#">Inicio</a></li>
                                    <li class='has-submenu'><a href="#">Cursos</a></li>
                                    <li class='has-submenu'><a href="#">Libros</a></li>
                                    <li class='has-submenu'><a href="#">Tutoriales</a></li>
                                    <li class='has-submenu'><a href="#">Noticias</a></li>
                                    <li class='has-submenu'><a href="#">Programas</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mobile-menu-area">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="mobile-menu">
                            <nav id="dropdown">
                                <ul>
                                    <li class="has-submenu"><a href="#">Inicio</a></li>
                                    <li class='has-submenu'><a href="#">Cursos</a></li>
                                    <li class='has-submenu'><a href="#">Libros</a></li>
                                    <li class='has-submenu'><a href="#">Tutoriales</a></li>
                                    <li class='has-submenu'><a href="#">Noticias</a></li>
                                    <li class='has-submenu'><a href="#">Programas</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--  Header Area End Here -->

    <!-- Welcome Area Start Here -->
    <div class="home3-advertise-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="home3-advertise">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Welcome Area Start Here -->






<!-- INICIO DE CONTENIDO -->    
    <!-- Main News Page start Here -->
    <div class="main-news-page-section-area">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="news-page-content-section-area">
                        <div class="single-news-area">
                            <div class="news-body">
<!-- Inicio de noticia -->             

<h4>Mantenimiento en Arch Linux</h4>


<p>Despues de un par de meses y años esta es la forma que yo empiezo a <b>limpiar y actualizar</b> mi sistema Arch<br><br></p>

<h3>Actualización del Sistema</h3>
<p>Ya se que se actualiza tan fácil con <b>pacman -Syu o yay -Syu</b>, pero si vienen de meses sin actualizar el sistema creanme que es necesario actualizar llaves, repositorios para finalizar con el clásico <b>pacman -Syu</b>.</p>

<p>Primero empiezo actualizando las Keys de los nuevos paquetes que vendrán, para eso hay que inicializar <b>pacman keyring:</b></p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman -Sy archlinux-keyring --noconfirm </span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman-key --init </span></pre>

<p>Actualizamos los repositorios de Arch eligiendo a los 10 (esto es a su gusto) más rápidos de todos con <b>reflector</b>:</p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman -S reflector --noconfirm </span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo reflector --verbose --latest 10 --protocol https --sort rate --save /etc/pacman.d/mirrorlist </span></pre>

<p>Y finalizamos con actualizar ya el sistema, digamos que primero fue un UPDATE y luego viene el UPGRADE con <b>pacman -Syu</b></p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman -Syu --noconfirm </span></pre>

<p>Llevo años aplicando estos comandos y por mas que pasen los años se actualiza el sistema sin ningún tipo de problema.<br>Hay que <b>recordar que si quieren instalar un programa deben actualizar primero el sistema</b></p>


<br>
<h3>Limpieza de Cache del sistema</h3>
<p>Empezamos Limpiando el cache de todos los programas descargados e instalados del sistema, esto no borra programas, son archivos temporales que se quedan despúes de una instalación de un programa.</p>


<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman -Scc</span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo rm -rf ~/.cache/*</span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo rm -rf /var/cache/pacman/pkg/*</span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo rm -rf /var/lib/pacman/*</span></pre>

<p>Y si usan un asistente de AUR, como YAY o PARU o etc...</p>


                                    
<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">yay -Scc</span></pre>


<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo rm -rf ~/.cache/yay</span></pre>
                                    

<p>Solo es cambiar el asistente de AUR, por paru, pacaur, aurman, aura y pikaur.</p>

<p>Fuente: <a href="https://wiki.archlinux.org/title/AUR_helpers
" title="Fuente" target="_blank">https://wiki.archlinux.org/title/AUR_helpers</a></p>

<br>

<h3>Limpieza de Programas No Necesarios</h3>
<p>Elimine los paquetes no utilizados del sistema para liberar espacio en disco y simplificar el mantenimiento.<br><br>
Empezamos a revisar la lista de programas que tenemos instalados en nuestro sistema.</p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">pacman -Qqe > pkglist.txt</span></pre>

<p>Eso hará que se guardará toda la lista en el archivo <b>pkglist.txt</b> lo puede revisar con cualquier editor de texto.</p><br>

<p>Use <b>pacman -Qtd</b> para buscar paquetes que se instalaron como dependencia, pero que ahora no dependen de otros paquetes. <br>Si el paquete ya no se necesita, se puede eliminar.</p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo pacman -Rns $(pacman -Qdtq)</span></pre>

<h2>Desglose del comando <code>pacman -Rns $(pacman -Qdtq)</code></h2>

<h2><code>-R</code>:</h2>
<p>
    Es la operación para <strong>eliminar</strong> (remove) paquetes instalados en el sistema.
</p>

<h2><code>-n</code>:</h2>
<p>
    Elimina los archivos de configuración del paquete <b>(no guarda una copia de respaldo)</b>. Por defecto, pacman guarda una copia de los archivos de configuración al eliminar un paquete. Con <b>-n</b>, estos archivos se eliminan directamente.
</p>

<h2><code>-s</code>:</h2>
<p>
    Elimina las <b>dependencias no necesarias</b> (dependencias que ya no son requeridas por otros paquetes instalados). Esto ayuda a mantener el sistema limpio y liberar espacio en disco
</p>

<h2><code>-Q</code>:</h2>
<p>
    Operación para trabajar con <strong>paquetes instalados</strong> en el sistema.
</p>

<h2><code>-d</code>:</h2>
<p>
    Lista paquetes que son <strong>dependencias</strong> de otros paquetes instalados, pero que ya no son necesarios (es decir, <strong>paquetes huérfanos</strong>).
</p>

<h2><code>-t</code>:</h2>
<p>
    Lista paquetes que no son requeridos explícitamente por ningún otro paquete instalado (<strong>dependencias opcionales no utilizadas</strong>).
</p>

<h2><code>-q</code>:</h2>
<p>
    Modo <strong>silencioso</strong>: Muestra solo los nombres de los paquetes, sin información adicional (como la versión o descripción).
</p>

<br>
<p>Hay que leer bien que estas borrando, aveces metes al paquete programas como <b>gcc, vala, rust, etc</b> algunas cosas que puedes usar mas adelante. O quizás instalarlo luego.</p>


<h2>Para excluir los paquetes que (aún) están disponibles en el AUR, pruebe la herramienta ancient-packages en AUR.</h2>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">yay -S ancient-packages</span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo ancient-packages</span></pre>

<a href="mantenimiento_arch/ancient-packages.png" title="Img" target="_blank">
<img src="mantenimiento_arch/ancient-packages.png" alt="CodigoCristo " style="width: 50%; border: 30px;" /></a>
<br>
<br>
<br>
<h3>Enlaces simbólicos rotos</h3>
<p>Para enumerar rápidamente todos los enlaces simbólicos rotos de archivos permanentes en su sistema, utilice:</p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo find / -type d \( -path "/dev" -o -path "/proc" -o -path "/run" -o -path "/sys" \) -prune -o -xtype l -print</span></pre>

<p>El comando que proporcionaste busca enlaces simbólicos rotos (-xtype l) en todo el sistema, excluyendo ciertos directorios como <b>/dev, /proc, /run y /sys.</b></p>
<a href="mantenimiento_arch/enlacessimbolicosrotos.png" title="Img" target="_blank">
<img src="mantenimiento_arch/enlacessimbolicosrotos.png" alt="CodigoCristo" style="width: 50%; border: 30px;" />
</a>
<br>
<br>
<p>Para borrar rápidamente todos los enlaces simbólicos rotos de archivos permanentes en su sistema, agregando <b>-exec rm {} +</b></p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo find / -type d \( -path "/dev" -o -path "/proc" -o -path "/run" -o -path "/sys" \) -prune -o -xtype l -print -exec echo "Eliminando: {}" \; -exec rm -rf {} +</span></pre>

<a href="mantenimiento_arch/enlacesLimpios.png" title="Img" target="_blank">
<img src="mantenimiento_arch/enlacesLimpios.png" alt="CodigoCristo" style="width: 50%; border: 30px;" />
</a>

<br>
<br> <br>                                   
<h3>Archivos de configuración antiguos</h3>
<p>Los archivos de configuración antiguos pueden entrar en conflicto con versiones más recientes del software o corromperse con el tiempo. Elimine periódicamente las configuraciones innecesarias, especialmente en su directorio personal y en <b>~/.config.</b> </p>

<h2><code>~/.config/</code>:</h2>
<p>
    Donde las aplicaciones almacenan su configuración, borre si ya no existe el programa o si hay algun conflicto con alguna mala configuración de su aplicación.
</p>

<h2><code>~/.local/share/</code>:</h2>
<p>
    Puede que haya archivos antiguos ahí también.
</p>


<br>
<br>                                   
<h3>Borrar programas manualmente</h3>
<p>Este programa lo instale usando meson o Make, la verdad no me acuerdo pero existe en mi sistema, tanto como el binario y el archivo <b>org.cristo.arcris.desktop</b> </p>

<p>Para realizar una busqueda completa en todo el sistema se usa <b>find</b>, este es el comando para que me de todas las rutas que necesito borrar:</p>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo find / -iname "*arcris*"  2>/dev/null </span></pre>

<h2><code>find /</code>:</h2>
<p>
    Para realizar una busqueda en todo el sistema.
</p>

<h2><code>-iname</code>:</h2>
<p>
    Usa -iname para buscar nombres de archivos o directorios que coincidan con el patrón, sin importar si están en mayúsculas o minúsculas.
</p>


<h2><code>*nombrebinario*</code>:</h2>
<p>
    Puedes usar el comodín * para buscar cualquier cosa antes o después.
</p>


<h2><code>2>/dev/null</code>:</h2>
<p>
    Se usa para ignorar los errores de permisos denegados.
</p>


<a href="mantenimiento_arch/find.png" title="Img" target="_blank">
<img src="mantenimiento_arch/find.png" alt="CodigoCristo" style="width: 50%; border: 30px;" />
</a>
<br><br>
<p>
    En este caso solo quiero borrar lo que esta en el sistema del usuario en Local, podria borrar uno por uno, o creamos un Script.
</p>


<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet" />

<pre>
<code class="language-bash">
#!/bin/bash
# Lista de archivos y directorios a eliminar

archivos=(                                       
        "/usr/local/bin/arcris"
        "/usr/local/share/metainfo/org.cristo.arcris.metainfo.xml"
        "/usr/local/share/icons/hicolor/scalable/apps/org.cristo.arcris.svg"
        "/usr/local/share/icons/hicolor/symbolic/apps/org.cristo.arcris-symbolic.svg"
        "/usr/local/share/glib-2.0/schemas/org.cristo.arcris.gschema.xml"
        "/usr/local/share/arcris"
        "/usr/local/share/applications/org.cristo.arcris.desktop"
        )

# Recorre la lista y elimina cada archivo o directorio
for archivo in "${archivos[@]}"; do
    if [ -e "$archivo" ]; then
        echo "Eliminando: $archivo"
        sudo rm -rf "$archivo"
    else
        echo "No existe: $archivo"
    fi
done

echo "Proceso completado."
        </code>
    </pre>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>

<br>
<p>
    Lo guardamos con nombre delete.sh con extensión <b>.sh</b> o a su gusto.
</p>


<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo chomd +x delete.sh</span></pre>

<pre><span class="user">[usuario@nombre_de_pc ~]$ </span><span class="code">sudo ./delete.sh</span></pre>


<a href="mantenimiento_arch/delete.png" title="Img" target="_blank">
<img src="mantenimiento_arch/delete.png" alt="CodigoCristo" style="width: 50%; border: 30px;" />
</a>

<br><br>

<hr>
<p>Recuerda que todos estos comando se pueden abreviar creando un alias y ponerle un nombre a tu gusto para evitar escribir comandos tan largos.
<hr><br>


<h3><a href="#" title="Alias" target="_blank">
<b>● Como crear Alias en Arch Linux </b></a></h3>






                                    
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main News Page End Here -->
    <!--  Single Team Page Section Area End Here -->
 


<!-- FIN DE CONTENIDO -->  





    <!-- Footer Start Here -->
    <footer class="footer-area">
            <div class="footer-buttom-area">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="copy-right-text">
                            <p>&copy; Copyright Cristo, Todos los derechos Reservados.Cristo</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="footer-social-media">
                            <ul id="fnav">
                                <li><a href="#"><i class="fa fa-globe"></i></a></li>
                                <li><a href="#"><i class="fa fa-telegram" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
  
    <!-- Footer End Here -->
    <!-- all js here -->
    <!-- jquery latest version -->
    <script src="../js/vendor/jquery-1.12.0.min.js"></script>
    <!-- bootstrap js -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- Owl Cauosel JS -->
    <script src="../vendor/OwlCarousel/owl.carousel.min.js " type="text/javascript"></script>
    <!-- Nivo slider js -->
    <script src="../lib/custom-slider/js/jquery.nivo.slider.js" type="text/javascript"></script>
    <script src="../lib/custom-slider/home.js" type="text/javascript"></script>
    <!-- meanmenu js -->
    <script src="../js/jquery.meanmenu.js"></script>
    <!-- jquery-ui js -->
    <script src="../js/jquery-ui.min.js"></script>
    <!-- wow js -->
    <script src="../js/wow.min.js"></script>
    <!-- jquery.scrollUp js -->
    <script src="../js/jquery.scrollUp.min.js"></script>
    <!-- plugins js -->
    <script src="../js/plugins.js"></script>
    <!-- Cycle 2 slider js -->
    <script src="../js/cycle2.js"></script>
    <script src="../js/jquery.cycle2.carousel.js"></script>
    <!-- knob circle js -->
    <script src="../js/jquery.knob.js"></script>
    <!-- jquery.appear js -->
    <script src="../js/jquery.appear.js"></script>
    <!-- Isotope js -->
    <script src="../js/isotope.pkgd.js"></script>
    <!-- Validator js -->
    <script src="../js/validator.min.js" type="text/javascript"></script>
    <!-- main js -->
    <script src="../js/main.js"></script>
</body>

</html>
